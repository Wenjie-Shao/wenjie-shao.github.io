(function(t){function e(e){for(var n,o,i=e[0],a=e[1],c=e[2],m=0,p=[];m<i.length;m++)o=i[m],s[o]&&p.push(s[o][0]),s[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);l&&l(e);while(p.length)p.shift()();return u.push.apply(u,c||[]),r()}function r(){for(var t,e=0;e<u.length;e++){for(var r=u[e],n=!0,i=1;i<r.length;i++){var a=r[i];0!==s[a]&&(n=!1)}n&&(u.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},s={app:0},u=[];function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],a=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var l=a;u.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"568f":function(t,e,r){"use strict";var n=r("ff7b"),s=r.n(n);s.a},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),s=r("ce5b"),u=r.n(s);r("bf40");n["default"].use(u.a,{theme:{primary:"#ee44aa",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},iconfont:"md"});var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("router-view")],1)},i=[],a={name:"App",data:function(){return{}}},c=a,l=r("2877"),m=Object(l["a"])(c,o,i,!1,null,null,null),p=m.exports,d=r("8c4f"),f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("HelloWorld")},h=[],v=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-alert",{staticClass:"number-alert",attrs:{type:"success",transition:"scale-transition"},model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[t._v("\n    游戏人数必须大于卧底数和白板数之和\n  ")]),r("v-layout",{attrs:{"text-xs-center":"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"游戏人数",rules:[t.rules.required]},model:{value:t.playerNum,callback:function(e){t.playerNum=e},expression:"playerNum"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"卧底数量"},model:{value:t.ucNum,callback:function(e){t.ucNum=e},expression:"ucNum"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"白板数量"},model:{value:t.emptyNum,callback:function(e){t.emptyNum=e},expression:"emptyNum"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-btn",{attrs:{round:"",color:"primary",dark:""},on:{click:t.start}},[t._v("开始游戏")])],1)],1)],1)},y=[],N=r("2f62"),x={data:function(){return{alert:!1,rules:{required:function(t){return!!t||"必填"}}}},computed:{playerNum:{get:function(){return this.$store.state.playerNum},set:function(t){this.$store.commit("setPlayerNum",t)}},ucNum:{get:function(){return this.$store.state.ucNum},set:function(t){this.$store.commit("setUcNum",t)}},emptyNum:{get:function(){return this.$store.state.emptyNum},set:function(t){this.$store.commit("setEmptyNum",t)}}},methods:{start:function(){this.alert=!1,this.playerNum<2||this.playerNum<this.ucNum+this.emptyNum?this.alert=!0:this.$router.push("game")}}},b=x,g=Object(l["a"])(b,v,y,!1,null,null,null),_=g.exports,w={components:{HelloWorld:_}},k=w,$=Object(l["a"])(k,f,h,!1,null,null,null),O=$.exports,j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-stepper",{attrs:{vertical:""},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},t._l(t.cards,function(e){return r("div",{key:e.id},[r("v-stepper-step",{attrs:{complete:t.step>e.id,step:e.id}},[t._v("\n      玩家"+t._s(e.id)+"查看\n    ")]),r("v-stepper-content",{attrs:{step:e.id}},[r("v-card",{staticClass:"mb-5 card-content",attrs:{color:"grey lighten-1",height:"200px"},on:{click:function(r){return t.showWord(e.id)}}},[e.showWord?r("span",[t._v(t._s(e.content))]):r("span",[t._v("点击查看")])]),r("v-btn",{attrs:{color:"primary",disabled:!e.showWord},on:{click:t.goNext}},[t._v("下一个")])],1)],1)}),0)},P=[],E={words:[["PM","RD"],["麦当劳","肯德基"],["教师","园丁"]]};function C(t){var e=t.length,r=Math.floor(Math.random()*e);return{value:t[r],index:r}}var F={getCards:function(t,e,r){for(var n=[],s=[],u=C(E.words),o=u.value,i=o,a=0;a<t;a++)n.push({id:a+1,content:i[0],identity:"平民",showWord:!1,showIdentity:!1}),s.push(a);while(e>0){var c=C(s),l=c.value,m=c.index;s.splice(m,1),n[l].identity="卧底",n[l].content=i[1],e--}while(r>0){var p=C(s),d=p.value;m=p.index;s.splice(m,1),n[d].identity="白板",n[d].content="",r--}return n}},W={data:function(){return{step:1}},computed:Object(N["b"])({playerNum:function(t){return t.playerNum},ucNum:function(t){return t.ucNum},emptyNum:function(t){return t.emptyNum},cards:function(t){return t.cards}}),created:function(){var t=F.getCards(this.playerNum,this.ucNum,this.emptyNum);this.$store.commit("setCards",t)},methods:{showWord:function(t){this.cards[t-1].showWord=!0},goNext:function(){this.step++,this.step>this.cards.length&&this.$router.push("result")}}},M=W,I=(r("568f"),Object(l["a"])(M,j,P,!1,null,null,null)),S=I.exports,U=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-list",t._l(t.cards,function(e){return r("v-list-tile",{key:e.id},[r("v-list-tile-avatar",[r("v-icon",[t._v("person")])],1),r("v-list-tile-content",{on:{click:function(r){return t.showIdentity(e.id)}}},[r("v-list-tile-title",[e.showIdentity?r("span",[t._v(t._s(e.identity))]):r("span",[t._v("玩家"+t._s(e.id))])])],1)],1)}),1),0==t.gameresult?r("v-alert",{attrs:{value:!0,type:"success"}},[t._v("平民获胜")]):t._e(),1==t.gameresult?r("v-alert",{attrs:{value:!0,type:"error"}},[t._v("卧底获胜")]):t._e(),t.gameover?r("v-btn",{attrs:{round:"",color:"primary",dark:""},on:{click:t.restart}},[t._v("重新开始")]):t._e(),t.gameover?r("v-btn",{attrs:{round:"",dark:""},on:{click:t.gohome}},[t._v("回到首页")]):t._e()],1)},T=[],q={data:function(){return{existPlayer:0,existUc:0,existEmpty:0,gameover:!1,gameresult:-1}},computed:Object(N["b"])({playerNum:function(t){return t.playerNum},ucNum:function(t){return t.ucNum},emptyNum:function(t){return t.emptyNum},cards:function(t){return t.cards}}),created:function(){this.existPlayer=this.playerNum,this.existUc=this.ucNum,this.existEmpty=this.emptyNum},methods:{showIdentity:function(t){var e=this.cards[t-1];e.showIdentity||(e.showIdentity=!0,"卧底"==e.identity?this.existUc--:"白板"==e.identity&&this.existEmpty--,this.existPlayer--,this.gameover||(0==this.existUc&&0==this.existEmpty?(this.gameover=!0,this.gameresult=0):this.existPlayer<=3&&(this.gameover=!0,this.gameresult=1)))},restart:function(){this.$store.commit("reset"),this.$router.push("game")},gohome:function(){this.$store.commit("reset"),this.$router.push("/")}}},A=q,H=Object(l["a"])(A,U,T,!1,null,null,null),J=H.exports;n["default"].use(d["a"]);var B=new d["a"]({mode:"history",routes:[{path:"/",name:"home",component:O},{path:"/game",name:"game",component:S},{path:"/result",name:"result",component:J}]});r("d5e8"),r("d1e7");n["default"].use(N["a"]);var D=new N["a"].Store({state:{playerNum:8,ucNum:2,emptyNum:0,cards:[]},mutations:{setPlayerNum:function(t,e){t.playerNum=e},setUcNum:function(t,e){t.ucNum=e},setEmptyNum:function(t,e){t.emptyNum=e},setCards:function(t,e){t.cards=e},reset:function(t,e){t.cards=[]}},actions:{}});n["default"].config.productionTip=!1,new n["default"]({router:B,store:D,render:function(t){return t(p)}}).$mount("#app")},ff7b:function(t,e,r){}});
//# sourceMappingURL=app.730f94d3.js.map